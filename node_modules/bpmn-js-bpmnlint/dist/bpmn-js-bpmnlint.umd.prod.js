!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).BpmnJSBpmnlint=n()}(this,(function(){"use strict";function t(t,n){var e=t.get("editorActions",!1);e&&e.register({toggleLinting:function(){n.toggle()}})}var n,e;function r(){return e?n:(e=1,n=function t(n,e){const r=e.enter,i=e.leave,o=r&&r(n),s=n.$descriptor;if(!1!==o&&!s.isGeneric){s.properties.filter((t=>!t.isAttr&&!t.isReference&&"String"!==t.type)).forEach((r=>{if(r.name in n){const i=n[r.name];r.isMany?i.forEach((n=>{t(n,e)})):t(i,e)}}))}i&&i(n)})}t.$inject=["injector","linting"];var i,o,s,c,u,l,a,f={};function p(){if(i)return f;i=1;const t=Object.prototype.toString,n=Object.prototype.hasOwnProperty;function e(t){return void 0===t}function r(t){return void 0!==t}function o(t){return null==t}function s(n){return"[object Array]"===t.call(n)}function c(n){return"[object Object]"===t.call(n)}function u(n){const e=t.call(n);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object AsyncGeneratorFunction]"===e||"[object Proxy]"===e}function l(t){if(!s(t))throw new Error("must supply array")}function a(t,e){return!o(t)&&n.call(t,e)}function p(t,n){const e=j(n);let r;return d(t,(function(t,n){if(e(t,n))return r=t,!1})),r}function d(t,n){let r,i;if(e(t))return;const o=s(t)?E:C;for(let e in t)if(a(t,e)&&(r=t[e],i=n(r,o(e)),!1===i))return r}function h(t,n,e){return d(t,(function(t,r){e=n(e,t,r)})),e}function g(t,n){return!!h(t,(function(t,e,r){return t&&n(e,r)}),!0)}function v(t,n){let e=[];return d(t,(function(t,r){e.push(n(t,r))})),e}function m(t){return t&&Object.keys(t)||[]}function y(t,n,e={}){return n=w(n),d(t,(function(t){let r=n(t)||"_",i=e[r];i||(i=e[r]=[]),i.push(t)})),e}function b(t,...n){t=w(t);let e={};return d(n,(n=>y(n,t,e))),v(e,(function(t,n){return t[0]}))}const _=b;function w(t){return u(t)?t:n=>n[t]}function j(t){return u(t)?t:n=>n===t}function C(t){return t}function E(t){return Number(t)}return f.assign=function(t,...n){return Object.assign(t,...n)},f.bind=function(t,n){return t.bind(n)},f.debounce=function(t,n){let e,r,i,o;function s(e){let s=Date.now(),l=e?0:o+n-s;if(l>0)return c(l);t.apply(i,r),u()}function c(t){e=setTimeout(s,t)}function u(){e&&clearTimeout(e),e=o=r=i=void 0}function l(...t){o=Date.now(),r=t,i=this,e||c(n)}return l.flush=function(){e&&s(!0),u()},l.cancel=u,l},f.ensureArray=l,f.every=g,f.filter=function(t,n){const e=j(n);let r=[];return d(t,(function(t,n){e(t,n)&&r.push(t)})),r},f.find=p,f.findIndex=function(t,n){const e=j(n);let r=s(t)?-1:void 0;return d(t,(function(t,n){if(e(t,n))return r=n,!1})),r},f.flatten=function(t){return Array.prototype.concat.apply([],t)},f.forEach=d,f.get=function(t,n,r){let i=t;return d(n,(function(t){if(o(i))return i=void 0,!1;i=i[t]})),e(i)?r:i},f.groupBy=y,f.has=a,f.isArray=s,f.isDefined=r,f.isFunction=u,f.isNil=o,f.isNumber=function(n){return"[object Number]"===t.call(n)},f.isObject=c,f.isString=function(n){return"[object String]"===t.call(n)},f.isUndefined=e,f.keys=m,f.map=v,f.matchPattern=function(t){return function(n){return g(t,(function(t,e){return n[e]===t}))}},f.merge=function t(n,...e){return e.length?(d(e,(function(e){e&&c(e)&&d(e,(function(e,r){if("__proto__"===r)return;let i=n[r];c(e)?(c(i)||(i={}),n[r]=t(i,e)):n[r]=e}))})),n):n},f.omit=function(t,n){let e={};return d(Object(t),(function(t,r){-1===n.indexOf(r)&&(e[r]=t)})),e},f.pick=function(t,n){let e={},r=Object(t);return d(n,(function(n){n in r&&(e[n]=t[n])})),e},f.reduce=h,f.set=function(t,n,i){let s=t;return d(n,(function(t,c){if("number"!=typeof t&&"string"!=typeof t)throw new Error("illegal key type: "+typeof t+". Key should be of type number or string.");if("constructor"===t)throw new Error("illegal key: constructor");if("__proto__"===t)throw new Error("illegal key: __proto__");let u=n[c+1],l=s[t];r(u)&&o(l)&&(l=s[t]=isNaN(+u)?{}:[]),e(u)?e(i)?delete s[t]:s[t]=i:s=l})),t},f.size=function(t){return m(t).length},f.some=function(t,n){return!!p(t,n)},f.sortBy=function(t,n){n=w(n);let e=[];return d(t,(function(t,r){let i=n(t,r),o={d:i,v:t};for(var s=0;s<e.length;s++){let{d:t}=e[s];if(i<t)return void e.splice(s,0,o)}e.push(o)})),v(e,(t=>t.v))},f.throttle=function(t,n){let e=!1;return function(...r){e||(t(...r),e=!0,setTimeout((()=>{e=!1}),n))}},f.unionBy=_,f.uniqueBy=b,f.values=function(t){return v(t,(t=>t))},f.without=function(t,n){if(e(t))return[];l(t);const r=j(n);return t.filter((function(t,n){return!r(t,n)}))},f}function d(){if(s)return o;s=1;const t=r(),{isArray:n,isObject:e,isFunction:i}=p();class c{constructor({moddleRoot:t,rule:n}){this.rule=n,this.moddleRoot=t,this.messages=[],this.report=this.report.bind(this)}report(t,r,i){let o={id:t,message:r};i&&n(i)&&(o={...o,path:i}),i&&e(i)&&(o={...o,...i}),this.messages.push(o)}}return o=function({moddleRoot:n,rule:e}){const r=new c({rule:e,moddleRoot:n}),o=e.check||{},s="leave"in o?o.leave:void 0,u="enter"in o?o.enter:i(o)?o:void 0;if(!u&&!s)throw new Error("no check implemented");return t(n,{enter:u?t=>u(t,r):void 0,leave:s?t=>s(t,r):void 0}),r.messages}}var h=function(){if(a)return l;a=1;const t=function(){if(u)return c;u=1;const t=d(),n=(t,n)=>t,e={0:"off",1:"warn",2:"error",3:"info"};function r(t){const{config:e={},resolver:r,transformRule:i=n}=t||{};if(void 0===r)throw new Error("must provide <options.resolver>");this.config=e,this.resolver=r,this.transformRule=i,this.cachedRules={},this.cachedConfigs={}}function i(t){return"bpmnlint"===t?"bpmnlint":t.startsWith("bpmnlint-plugin-")?t:`bpmnlint-plugin-${t}`}return c=r,r.prototype.applyRule=function(n,e){const{config:r,rule:i,category:o,name:s}=e;try{return t({moddleRoot:n,rule:i,config:r}).map((function(t){return{...t,meta:i.meta,category:o}}))}catch(t){return console.error("rule <"+s+"> failed with error: ",t),[{message:t.message,category:"rule-error"}]}},r.prototype.resolveRule=function(t,n){const{pkg:e,ruleName:r}=this.parseRuleName(t),i=`${e}-${r}`,o=this.cachedRules[i];return o?Promise.resolve(o):Promise.resolve(this.resolver.resolveRule(e,r)).then((o=>{if(!o)throw new Error(`unknown rule <${t}>`);return this.cachedRules[i]=this.transformRule(o(n),{pkg:e,ruleName:r})}))},r.prototype.resolveConfig=function(t){const{pkg:n,configName:e}=this.parseConfigName(t),r=`${n}-${e}`,i=this.cachedConfigs[r];return i?Promise.resolve(i):Promise.resolve(this.resolver.resolveConfig(n,e)).then((e=>{if(!e)throw new Error(`unknown config <${t}>`);return this.cachedConfigs[r]=this.normalizeConfig(e,n)}))},r.prototype.resolveRules=function(t){return this.resolveConfiguredRules(t).then((t=>{const n=Object.entries(t).map((([t,n])=>{const{category:e,config:r}=this.parseRuleValue(n);return{name:t,category:e,config:r}})),e=n.filter((t=>"off"!==t.category)).map((t=>{const{name:n,config:e}=t;return this.resolveRule(n,e).then((function(n){return{...t,rule:n}}))}));return Promise.all(e)}))},r.prototype.resolveConfiguredRules=function(t){let n=t.extends;return"string"==typeof n&&(n=[n]),void 0===n&&(n=[]),Promise.all(n.map((t=>this.resolveConfig(t).then((t=>this.resolveConfiguredRules(t)))))).then((n=>[...n,this.normalizeConfig(t,"bpmnlint").rules].reduce(((t,n)=>({...t,...n})),{})))},r.prototype.lint=function(t,n){return n=n||this.config,this.resolveRules(n).then((n=>{const e={};return n.forEach((n=>{const{name:r}=n,i=this.applyRule(t,n);i.length&&(e[r]=i)})),e}))},r.prototype.parseRuleValue=function(t){let n,r;return Array.isArray(t)?(n=t[0],r=t[1]):(n=t,r={}),"string"==typeof n&&(n=n.toLowerCase()),n=e[n]||n,{config:r,category:n}},r.prototype.parseRuleName=function(t,n="bpmnlint"){const e=/^(?:(?:(@[^/]+)\/)?([^@]{1}[^/]*)\/)?([^/]+)$/.exec(t);if(!e)throw new Error(`unparseable rule name <${t}>`);const[r,o,s,c]=e;return s?{pkg:`${o?o+"/":""}${i(s)}`,ruleName:c}:{pkg:n,ruleName:c}},r.prototype.parseConfigName=function(t){const n=/^(?:(?:plugin:(?:(@[^/]+)\/)?([^@]{1}[^/]*)\/)|bpmnlint:)([^/]+)$/.exec(t);if(!n)throw new Error(`unparseable config name <${t}>`);const[e,r,o,s]=n;return o?{pkg:`${r?r+"/":""}${i(o)}`,configName:s}:{pkg:"bpmnlint",configName:s}},r.prototype.getSimplePackageName=function(t){const n=/^(?:(@[^/]+)\/)?([^/]+)$/.exec(t);if(!n)throw new Error(`unparseable package name <${t}>`);const[e,r,i]=n;return`${r?r+"/":""}${o=i,o.startsWith("bpmnlint-plugin-")?o.substring(16):o}`;var o},r.prototype.normalizeConfig=function(t,n){const e=t.rules||{},r=Object.keys(e).reduce(((t,r)=>{const i=e[r],{pkg:o,ruleName:s}=this.parseRuleName(r,n);return t["bpmnlint"===o?s:`${this.getSimplePackageName(o)}/${s}`]=i,t}),{});return{...t,rules:r}},c}();return l={Linter:t}}();const g=Object.prototype.toString,v=Object.prototype.hasOwnProperty;function m(t,n){return!(null==t)&&v.call(t,n)}function y(t,n){let e,r;if(void 0===t)return;const i=function(t){return"[object Array]"===g.call(t)}(t)?w:_;for(let o in t)if(m(t,o)&&(e=t[o],r=n(e,i(o)),!1===r))return e}function b(t,n,e={}){return n=function(t){return function(t){const n=g.call(t);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object AsyncGeneratorFunction]"===n||"[object Proxy]"===n}(t)?t:n=>n[t]}(n),y(t,(function(t){let r=n(t)||"_",i=e[r];i||(i=e[r]=[]),i.push(t)})),e}function _(t){return t}function w(t){return Number(t)}function j(t,...n){return Object.assign(t,...n)}var C,E=function(t,n){if("string"!=typeof t)throw new TypeError("String expected");n||(n=document);var e=/<([\w:]+)/.exec(t);if(!e)return n.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var r=e[1];if("body"==r){return(i=n.createElement("html")).innerHTML=t,i.removeChild(i.lastChild)}var i,o=Object.prototype.hasOwnProperty.call($,r)?$[r]:$._default,s=o[0],c=o[1],u=o[2];(i=n.createElement("div")).innerHTML=c+t+u;for(;s--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);var l=n.createDocumentFragment();for(;i.firstChild;)l.appendChild(i.removeChild(i.firstChild));return l},R=!1;"undefined"!=typeof document&&((C=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',R=!C.getElementsByTagName("link").length,C=void 0);var $={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:R?[1,"X<div>","</div>"]:[0,"",""]};$.td=$.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],$.option=$.optgroup=[1,'<select multiple="multiple">',"</select>"],$.thead=$.tbody=$.colgroup=$.caption=$.tfoot=[1,"<table>","</table>"],$.polyline=$.ellipse=$.polygon=$.circle=$.text=$.line=$.path=$.rect=$.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var x=E,k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function O(t){return(t=""+t)&&t.replace(/[&<>"']/g,(function(t){return k[t]}))}function N(t,n){var e=function(t){return t&&t.businessObject||t}(t);return e&&"function"==typeof e.$instanceOf&&e.$instanceOf(n)}var B='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   version="1.1"\n   viewBox="0 0 512 512"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <path\n     d="M 339.07183,256.00001 463.66713,131.4047 c 15.28961,-15.2896 15.28961,-40.079175 0,-55.381227 l -27.6906,-27.690611 c -15.28961,-15.289602 -40.07917,-15.289602 -55.38123,0 L 256,172.92818 131.4047,48.332862 c -15.2896,-15.289602 -40.079177,-15.289602 -55.381228,0 L 48.332861,76.023473 c -15.2896,15.2896 -15.2896,40.079177 0,55.381227 L 172.92815,256.00001 48.332861,380.59531 c -15.2896,15.2896 -15.2896,40.07917 0,55.38123 l 27.690611,27.69061 c 15.289601,15.28959 40.091628,15.28959 55.381228,0 L 256,339.07184 380.5953,463.66715 c 15.2896,15.28959 40.09162,15.28959 55.38123,0 l 27.6906,-27.69061 c 15.28961,-15.2896 15.28961,-40.07918 0,-55.38123 z"\n     fill="currentColor" />\n</svg>\n',I='<svg version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n  <path d="m256 323.95c-45.518 0-82.419 34.576-82.419 77.229 0 42.652 36.9 77.229 82.419 77.229 45.518 0 82.419-34.577 82.419-77.23 0-42.652-36.9-77.229-82.419-77.229zm-80.561-271.8 11.61 204.35c.544 9.334 8.78 16.64 18.755 16.64h100.39c9.975 0 18.211-7.306 18.754-16.64l11.611-204.35c.587-10.082-7.98-18.56-18.754-18.56h-123.62c-10.775 0-19.34 8.478-18.753 18.56z" fill="currentColor"/>\n</svg>\n',A='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   viewBox="0 0 512 512"\n   version="1.1"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <path\n     fill="currentColor"\n     d="m 173.898,439.40356 -166.4,-166.4 c -9.997,-9.997 -9.997,-26.206 0,-36.204 l 36.203,-36.204 c 9.997,-9.998 26.207,-9.998 36.204,0 L 192,312.68956 432.095,72.595562 c 9.997,-9.997 26.207,-9.997 36.204,0 l 36.203,36.203998 c 9.997,9.997 9.997,26.206 0,36.204 l -294.4,294.401 c -9.998,9.997 -26.207,9.997 -36.204,-10e-4 z" />\n</svg>\n',L='<svg\n  viewBox="3.5 3.5 9 9"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg">\n  <path\n    fill="currentColor" d="M6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>\n</svg>',P={resolver:{resolveRule:function(){return null}},config:{}},S={error:B,warning:I,success:A,info:L,inactive:A};function T(t,n,e,r,i,o,s){this._bpmnjs=t,this._canvas=n,this._elementRegistry=r,this._eventBus=i,this._overlays=o,this._translate=s,this._issues={},this._active=e&&e.active||!1,this._linterConfig=P,this._overlayIds={};var c=this;i.on(["import.done","elements.changed","linting.configChanged","linting.toggle"],500,(function(t){c.update()})),i.on("linting.toggle",(function(t){t.active||(c._clearIssues(),c._updateButton())})),i.on("diagram.clear",(function(){c._clearIssues()}));var u=e&&e.bpmnlint;u&&i.once("diagram.init",(function(){if(c.getLinterConfig()===P)try{c.setLinterConfig(u)}catch(t){console.error("[bpmn-js-bpmnlint] Invalid lint rules configured. Please doublecheck your linting.bpmnlint configuration, cf. https://github.com/bpmn-io/bpmn-js-bpmnlint#configure-lint-rules")}})),this._init()}return T.prototype.setLinterConfig=function(t){if(!t.config||!t.resolver)throw new Error("Expected linterConfig = { config, resolver }");this._linterConfig=t,this._eventBus.fire("linting.configChanged")},T.prototype.getLinterConfig=function(){return this._linterConfig},T.prototype._init=function(){this._createButton(),this._updateButton()},T.prototype.isActive=function(){return this._active},T.prototype._formatIssues=function(t){let n=this,e=(r=function(t,n,e){return t.concat(n.map((function(t){return t.rule=e,t})))},i=[],y(t,(function(t,n){i=r(i,t,n)})),i);var r,i;const o=n._elementRegistry.filter((t=>N(t,"bpmn:Participant"))).map((t=>t.businessObject));return e=function(t,n){let e=[];return y(t,(function(t,r){e.push(n(t,r))})),e}(e,(function(t){if(!n._elementRegistry.get(t.id)){t.isChildIssue=!0,t.actualElementId=t.id;const e=o.filter((n=>n.processRef&&n.processRef.id&&n.processRef.id===t.id));e.length?t.id=e[0].id:t.id=n._canvas.getRootElement().id}return t})),e=b(e,(function(t){return t.id})),e},T.prototype.toggle=function(t){return t=void 0===t?!this.isActive():t,this._setActive(t),t},T.prototype._setActive=function(t){this._active!==t&&(this._active=t,this._eventBus.fire("linting.toggle",{active:t}))},T.prototype.update=function(){var t=this;if(this._bpmnjs.getDefinitions()){var n=this._lintStart=Math.random();this.lint().then((function(e){if(t._lintStart===n){e=t._formatIssues(e);var r={},i={},o={};for(var s in t._issues)e[s]||(r[s]=t._issues[s]);for(var c in e)t._issues[c]?e[c]!==t._issues[c]&&(i[c]=e[c]):o[c]=e[c];r=j(r,i),o=j(o,i),t._clearOverlays(),t.isActive()&&t._createIssues(o),t._issues=e,t._updateButton(),t._fireComplete(e)}}))}},T.prototype._fireComplete=function(t){this._eventBus.fire("linting.completed",{issues:t})},T.prototype._createIssues=function(t){for(var n in t)this._createElementIssues(n,t[n])},T.prototype._createElementIssues=function(t,n){var e=this._elementRegistry.get(t);if(e){var r,i,o=this._elementRegistry.get(t+"_plane");o&&this._createElementIssues(o.id,n);var s=!e.parent;s&&N(e,"bpmn:Process")?(r="bottom-right",i={top:20,left:150}):s&&N(e,"bpmn:SubProcess")?(r="bottom-right",i={top:50,left:150}):(r="top-right",i={top:-7,left:-7});var c=b(n,(function(t){return(t.isChildIssue?"child":"")+t.category})),u=c.error,l=c.warn,a=c.info,f=c.childerror,p=c.childwarn,d=c.childinfo;if(a||u||l||f||p||d){var h=x('<div class="bjsl-overlay bjsl-issues-'+r+'"></div>'),g=x(u||f?'<div class="bjsl-icon bjsl-icon-error">'+B+"</div>":l||p?'<div class="bjsl-icon bjsl-icon-warning">'+I+"</div>":'<div class="bjsl-icon bjsl-icon-info">'+L+"</div>"),v=x('<div class="bjsl-dropdown"></div>'),m=x('<div class="bjsl-dropdown-content"></div>'),y=x('<div class="bjsl-issues"></div>'),_=x('<div class="bjsl-current-element-issues"></div>'),w=x("<ul></ul>");if(h.appendChild(g),h.appendChild(v),v.appendChild(m),m.appendChild(y),y.appendChild(_),_.appendChild(w),u&&this._addErrors(w,u),l&&this._addWarnings(w,l),a&&this._addInfos(w,a),f||p||d){var j=x('<div class="bjsl-child-issues"></div>'),C=x("<ul></ul>"),E=this._translate("Issues for child elements"),R=x('<a class="bjsl-issue-heading">'+E+":</a>");if(f&&this._addErrors(C,f),p&&this._addWarnings(C,p),d&&this._addInfos(C,d),u||l){var $=x("<hr/>");j.appendChild($)}j.appendChild(R),j.appendChild(C),y.appendChild(j)}this._overlayIds[t]=this._overlays.add(e,"linting",{position:i,html:h,scale:{min:.7}})}}},T.prototype._addErrors=function(t,n){var e=this;n.forEach((function(n){e._addEntry(t,"error",n)}))},T.prototype._addWarnings=function(t,n){var e=this;n.forEach((function(n){e._addEntry(t,"warning",n)}))},T.prototype._addInfos=function(t,n){var e=this;n.forEach((function(n){e._addEntry(t,"info",n)}))},T.prototype._addEntry=function(t,n,e){var r=e.rule,i=e.meta?.documentation.url,o=this._translate(e.message),s=e.actualElementId,c=S[n],u=x(`\n    <li class="${n}" data-rule="${O(r)}">\n      <span class="icon">${c}</span>\n      <span class="message">${O(o)}</span>\n      <span class="rule">(${i?`<a href="${O(i)}" target="_blank">${O(r)}</a>`:O(r)})</span>\n      ${s?`<span class="bjsl-id-hint"><code>${O(s)}</code></span>`:""}\n    </li>\n  `);t.appendChild(u)},T.prototype._clearOverlays=function(){this._overlays.remove({type:"linting"}),this._overlayIds={}},T.prototype._clearIssues=function(){this._issues={},this._clearOverlays()},T.prototype._setButtonState=function(t){var{errors:n,warnings:e,infos:r}=t,i=this._button,o=(n?"error":e&&"warning")||"success",s=`\n    <span class="icon">${S[o]}</span>\n    <span>${this._translate(n||e?"{errors} Errors, {warnings} Warnings":"No Issues",{errors:String(n),warnings:String(e),infos:String(r)})}</span>`;o=this.isActive()?o:"inactive",["error","inactive","success","warning"].forEach((function(t){o===t?i.classList.add("bjsl-button-"+t):i.classList.remove("bjsl-button-"+t)})),i.innerHTML=s},T.prototype._updateButton=function(){var t=0,n=0,e=0;for(var r in this._issues)this._issues[r].forEach((function(r){"error"===r.category?t++:"warn"===r.category?n++:"info"===r.category&&e++}));this._setButtonState({errors:t,warnings:n,infos:e})},T.prototype._createButton=function(){var t=this;this._button=x('<button class="bjsl-button bjsl-button-inactive" title="'+this._translate("Toggle linting overlays")+'"></button>'),this._button.addEventListener("click",(function(){t.toggle()})),this._canvas.getContainer().appendChild(this._button)},T.prototype.lint=function(){var t=this._bpmnjs.getDefinitions();return new h.Linter(this._linterConfig).lint(t)},T.$inject=["bpmnjs","canvas","config.linting","elementRegistry","eventBus","overlays","translate"],{__init__:["linting","lintingEditorActions"],linting:["type",T],lintingEditorActions:["type",t]}}));
